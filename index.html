<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì•ˆì‚° ë§›ì§‘ ì§€ë„ (í†µí•©ë³¸)</title>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <style>
        /* CSS ìŠ¤íƒ€ì¼ ì˜ì—­ */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Noto Sans KR', sans-serif;
            display: flex;
            flex-direction: column;
            height: 100vh; /* í™”ë©´ ì „ì²´ ë†’ì´ ì‚¬ìš© */
            margin: 0;
        }
        header {
            background-color: #ff6b6b;
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: bold;
        }
        
        /* ì§€ë„ ë†’ì´ ì„¤ì • (ì´ ë¶€ë¶„ì´ ì—†ìœ¼ë©´ ì§€ë„ê°€ ì•ˆ ë³´ì…ë‹ˆë‹¤!) */
        #map-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        #map {
            width: 100%;
            height: 100%; /* ë¶€ëª¨ ì»¨í…Œì´ë„ˆë¥¼ ê°€ë“ ì±„ì›€ */
            min-height: 400px; /* ìµœì†Œ ë†’ì´ ë³´ì¥ */
            z-index: 1;
        }
        
        #info-panel {
            height: 30%;
            background-color: white;
            padding: 20px;
            border-top: 2px solid #ddd;
            overflow-y: auto;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            z-index: 2;
        }

        /* PC í™”ë©´ ëŒ€ì‘ */
        @media (min-width: 768px) {
            #map-container {
                flex-direction: row;
            }
            #map {
                width: 70%;
                height: 100%;
            }
            #info-panel {
                width: 30%;
                height: 100%;
                border-top: none;
                border-left: 2px solid #ddd;
            }
        }
    </style>
</head>
<body>

    <header>ğŸ½ï¸ ì•ˆì‚° ë§›ì§‘ ì§€ë„</header>

    <div id="map-container">
        <div id="map"></div>
        
        <div id="info-panel">
            <h2 id="store-name" style="margin-bottom: 10px;">ë§›ì§‘ì„ ì„ íƒí•˜ì„¸ìš”</h2>
            <p id="store-desc" style="color:#666;">ì§€ë„ ìœ„ì˜ í•€ì„ í´ë¦­í•˜ë©´ ìƒì„¸ ì •ë³´ê°€ ë‚˜ì˜µë‹ˆë‹¤.</p>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <script>
        // ìë°”ìŠ¤í¬ë¦½íŠ¸ ì˜ì—­
        
        // 1. ì§€ë„ ìƒì„± (ì¤‘ì‹¬ ì¢Œí‘œ: ì•ˆì‚°ì‹œì²­)
        var map = L.map('map').setView([37.3219, 126.8309], 14);

        // 2. íƒ€ì¼ ë ˆì´ì–´(ì§€ë„ ê·¸ë¦¼) ì¶”ê°€
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; OpenStreetMap contributors'
        }).addTo(map);

        // 3. ë°ì´í„°
        const restaurants = [
            { name: "ì¤‘ì•™ë™ íŒŒìŠ¤íƒ€", lat: 37.3165, lng: 126.8385, category: "ì–‘ì‹", desc: "ë°ì´íŠ¸í•˜ê¸° ì¢‹ì€ íŒŒìŠ¤íƒ€ì§‘" },
            { name: "ê³ ì”ë™ ì‚¼ê²¹ì‚´", lat: 37.3105, lng: 126.8315, category: "í•œì‹", desc: "íšŒì‹ ì¥ì†Œ ì¶”ì²œ ì‚¼ê²¹ì‚´" },
            { name: "ì—ë¦¬ì¹´ ì¹´í˜", lat: 37.2980, lng: 126.8360, category: "ì¹´í˜", desc: "ê³µë¶€í•˜ê¸° ì¢‹ì€ ì¡°ìš©í•œ ì¹´í˜" },
            { name: "ì•ˆì‚°ì—­ ìŒ€êµ­ìˆ˜", lat: 37.3265, lng: 126.7890, category: "ì•„ì‹œì•ˆ", desc: "í˜„ì§€ì¸ì´ ìš´ì˜í•˜ëŠ” ìŒ€êµ­ìˆ˜ ë§›ì§‘" }
        ];

        // 4. ì•„ì´ì½˜ ì„¤ì • (ì´ë¯¸ì§€ ê²½ë¡œ ë¬¸ì œ ë°©ì§€ìš©)
        var defaultIcon = L.icon({
            iconUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png',
            shadowUrl: 'https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png',
            iconSize: [25, 41],
            iconAnchor: [12, 41],
            popupAnchor: [1, -34],
            shadowSize: [41, 41]
        });

        // 5. ë§ˆì»¤ ì¶”ê°€
        restaurants.forEach(function(store) {
            var marker = L.marker([store.lat, store.lng], {icon: defaultIcon}).addTo(map);
            
            // í´ë¦­ ì´ë²¤íŠ¸
            marker.on('click', function() {
                map.setView([store.lat, store.lng], 16); // í´ë¦­ ì‹œ í•´ë‹¹ ìœ„ì¹˜ë¡œ ì¤Œì¸
                document.getElementById('store-name').innerText = store.name;
                document.getElementById('store-desc').innerHTML = 
                    `<b>ë¶„ë¥˜:</b> ${store.category}<br><br>${store.desc}`;
            });
        });
        
        // ì§€ë„ í¬ê¸°ê°€ ë³€ê²½ë˜ì—ˆì„ ë•Œ ë‹¤ì‹œ ê·¸ë¦¬ê¸° (ë ˆì´ì•„ì›ƒ ê¹¨ì§ ë°©ì§€)
        setTimeout(function(){ map.invalidateSize(); }, 100);
    </script>
</body>
</html>